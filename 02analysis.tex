% !TeX root = thesis.tex

\chap Analysis

This chapter is dedicated to the analysis of various topics related to this thesis. In first part, current trends in shipments of devices will be introduced. This introduction will be followed by analysis of latest in-car infotainment solutions including their advantages and disadvantages. Then, the basic facts about various types of communication in automotive environment will be explained. The last section of this chapter is devoted to cloud computing topic and its externsion to in-vehicular use.

\sec Usage of portable devices

The shipments of portable devices are facing big changes recently. Sales of traditional PCs are decreasing every year. On the other side, the shipments of portable devices (mainly mobile phones and so-called ultramobile devices) are experiencing the opposite trend. As we can see in table \ref[devices_shipments], the numbers are increasing \rfc{move the footnotes to the table} \fnote{The {\bf Ultramobile (Premium)} category includes devices such as Microsoft's Windows 8 Intel x86 products and Apple's MacBook Air.} \fnote{The {\bf Ultramobile (Tablets and Clamshells)} category includes devices such as, iPad, iPad mini, Samsung Galaxy Tab S 10.5, Nexus 7 and Acer Iconia Tab 8.}. According to Gartner \cite[atwal2013forecast] the mobile phone shipment are by far the largest. These numbers are hinting what kind of devices are customers using the most and consequently what devices will be most probably used while driving. 
\midinsert \clabel[devices_shipments]{Worldwide Devices Shipments by Device Type, 2014-2017 (Millions of Units)}
\ctable{lrrrr}{
\hfil Device Type & 2014 & 2015 & 2016 & 2017 \crl \tskip4pt
Traditional PCs (Desk-Based and Notebook) & 277 & 251 & 243 & 233 \cr
Ultramobiles (Premium) & 37 & 49 & 68 & 89 \cr
{\bf PC Market} & {\bf 314} & {\bf 300} & {\bf 311} & {\bf 322} \cr
Ultramobiles (Tablets and Clamshells) & 226 & 214 & 228 & 244 \cr
{\bf Computing Devices Market} & {\bf 540} & {\bf 514} & {\bf 539} & {\bf 566} \cr
Mobile Phones & 1879 & 1940 & 2007 & 2062 \cr
{\bf Total Devices Market }& {\bf 2419} & {\bf 2454} & {\bf 2546} & {\bf 2628} \cr
}
\caption/t Worldwide Devices Shipments by Device Type, 2014-2017 (Millions~of~Units)~\cite[atwal2013forecast]
\endinsert

\rfc{what about internet users?}


\sec In-car devices and controls

Driving a car is a stressful task. Distraction is the number one reason for traffic accidents. The reasons are obvious:

\begitems
* Technological developemt is faster that the capability to handle it. Product lifecycle (in automotive environment)  is getting shorter - from more than 4 years to less than 18 months.
* Infotainment systems functionality is increasing, but the human processing capacity is the same.
* Complexity of whole eco system of human mobility is continously increasing: \rfc{cite riener}
	\begitems
	* High volume of traffic
	* More miles driven
	* Complex road infrastructure
	* Overusage of road signs
	\enditems
\enditems

Hardware interfaces are a mixture of knobs, buttons, sliders, and switches in the car. These controls are called {\bf Tangible User Interfaces} \cite[ishii2008tangible]. They are the traditional car on touch and physical environment. They allow the driver to control the car. In the last decades the mechnical buttons have changed to electrical switches with microcontrollers. The measurement equipment was replaced with screens. The whole car infrastructure became digital. This change is following similar changes in the digital personal devices. 

There are other devices in the car or devices the driver and passengers will bring to the car, which will require wired or wireless connection. First USB, for MP3 players, phone, or it can be used to charge some of the mobile devices while driving. Some cars may provide flash memory slot supporting different types and allowing music playback or allow replication to the in-car hard drive. 

The car may also provide an WiFi connection in several different setups. Other mobile devices the driver and the passengers bring to the car must be consibered. The top level car may also provide HDMI for in-car screens located on the dashboard and back seats.


\sec In-car mobile applications

In this section the imporant vendors of mobile applications aimed for in-car use will be introduces. The two most popular competitors - Android Auto and Apple CarPlay will be presented  in details. Other vendors of applications available on /rfc{on?} various mobile application stores will be featured.
 
\secc Android Auto

Android Auto is an app that integrates with a car to make it easier for driver to use some of the main features of the Android phone while driving. Driver can control things like navigation, music, and the phone's dialer from the car's digital display so driver can stay focused on the road. Android Auto app can be downloaded on Google Play\urlnote{https://play.google.com/store?hl=en}. There is also a need for compatible car or aftermarket unit. Most Android phones running Android 5.0 Lollipop can run Android Auto in a compatible car or aftermarket unit. In addition to the phone itself, Android Auto requires a data connection and a Google Account \urlnote{https://accounts.google.com/SignUp} to download the app from the Google Play Store. \cite[androidauto]

Communication with the phone is ensured by USB cable which provides data transfer and recharging capabilities. In-dashboard system uses also the internet data plan from the phone. On figure \ref[android_auto_golf] is shown the general concept of using the Android Auto ecosystem. On figure \ref[android_auto_maps] is then shown the navigational feature using Google Maps.

\midinsert \clabel[android_auto_golf]{Android Auto App running in Volkswagen Golf Mk. 6}
\picw=\hsize \cinspic resources/images/android_auto_golf.jpg
\caption/f Android Auto App running in Volkswagen Golf Mk. 6
\endinsert

\midinsert \clabel[android_auto_maps]{Screenshot of Google Maps in Android Auto App}
\picw=10cm \cinspic resources/images/android_auto.jpg
\caption/f Screenshot of Google Maps in Android Auto App
\endinsert

\rfc{maybe add sth about low distraction - only music, calls, messages, maps}

\secc Apple CarPlay


\secc Other vendors

\sec Data \& comumunication

\secc In-vehicle real-time busses

{\bf Controller Area Network Bus (CAN-BUS)} - Bosch originally developed the Controller Area Network (CAN) in 1985 for in-vehicle networks. In the past, automotive manufacturers connected electronic devices in vehicles using point-to-point wiring systems. As more and more electronics started to be used in vehicles, the situation led to very complex and confusional systems that were heavy and expensive. They then replaced dedicated wiring with in-vehicle networks, which reduced wiring cost, complexity, and weight. CAN is a high-integrity serial bus system for networking intelligent devices, developed as the standard in-vehicle network. Whole automotive industry quickly adopted CAN and  it became the international standard in 1993 known as ISO 11898.  \cite[etschberger2001controller]

{\bf FlexRay} - The FlexRay communications bus is a deterministic, fault-tolerant and high-speed bus system developed in conjunction with automobile manufacturers and leading suppliers. FlexRay delivers the error tolerance and time-determinism performance requirements for x-by-wire applications (i.e. drive-by-wire, steer-by-wire, brake-by-wire, etc.). This bus was developed to provide features that CAN cannot offer (e.g. synchronization or high performance)\cite[ni2009flexray].

\secc On-board Diagnostics (OBD)

The first generation of On-Board Diagnostic requirements, called OBD I, was developed by the California Air Resources Board (ARB) and implemented in 1988. As technology and the desire to expand On-Board Diagnostic capability increased, a second-generation of On-Board Diagnostics requirements was developed. This second version of On-Board Diagnostic capabilities is called "OBD II". The Clean Air Act Amendments of 1990 mandated that, beginning with the 1996 model year, all light-duty vehicle and trucks made available for sale outside of the state of California must also be equipped with OBDII. In addition, EPA also requires that medium duty vehicles up to 14,000 pounds must also be equipped with OBD II systems beginning in the 2004 model year. In the future, EPA expects that all heavy-duty vehicles over 14,000 pounds will eventually be equipped with OBDII systems.

http://www3.epa.gov/obd/basic.htm

On-Board Diagnostics, or "OBD," is a computer-based system built into all 1996 and later light-duty vehicles and trucks, as required by the Clean Air Act Amendments of 1990. OBD systems are designed to monitor the performance of some of an engine's major components including those responsible for controlling emissions. 
OBD is a valuable tool that assists in the service and repair of vehicles by providing a simple, quick, and effective way to pinpoint problems by retrieving vital automobile diagnostics from the OBD systems.
OBD plays an important role where vehicle inspection and maintenance programs are required.
OBD serves as an early warning system that alerts you to the potential need for vehicle repair through the "Check Engine" light on the dashboard of your vehicle.
OBD systems are required by EPA to be installed on light-duty vehicles and trucks, as well as heavy-duty engines.

(http://www3.epa.gov/obd/)




\secc Other types of communication


\rfc{busses in car, OBD, CANBUS, FLEXRAY, BlueTooth, Internet connection}

\sec Android mobile platform

Android is a software stack for mobile devices that includes an operating system, middleware and key applications. The various components of Android are designed as a stack, with the ‘Applications’ forming the top layer of the stack, while the Linux kernel forms the lowest layer. Android ships with a set of core applications including an e-mail client, SMS program, calendar, maps, browser, contacts, and other features. All applications are written using the Java programming language.

Developers have full access to the same framework APIs used by the core applications. The application architecture is designed to simplify the reuse of components; the capabilities of any application can be published and then be made use of by any other application (subject to security constraints enforced by the framework). This same mechanism allows components to be replaced by the user.

Android includes a set of core libraries that provides most of the functionality available in the core libraries of the Java programming language. Every Android  aplication runs in its own process, with its own instance of the Dalvik virtual machine. Dalvik has been written so that a device can run multiple VMs efficiently. The Dalvik VM executes files in the Dalvik Executable (.dex) format, which is optimised for minimal memory footprint. The VM is register-based, and runs classes compiled by a Java language compiler that has been transformed into the .dex format by the included dx tool. The Dalvik VM relies on the Linux kernel for underlying functionality such as threading and low-level memory management. \cite[developers2011android]

\sec Cloud computing

