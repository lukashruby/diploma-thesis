% !TeX root = thesis.tex

\def\rotsimple#1{\hbox\bgroup\def\tmpb{#1}\afterassignment\rotsimpleA \setbox0=}%
\def\rotsimpleA{\aftergroup\rotsimpleB}
\def\rotsimpleB{\setbox0=\hbox{\box0}%
   \ifnum\tmpb>0 \kern\ht0 \tmpdim=\dp0 \else \kern\dp0 \tmpdim=\ht0 \fi
   \vbox to\wd0{\ifnum\tmpb>0 \vfill\fi
                \vfil \wd0=0pt \dp0=0pt \ht0=0pt
                \pdfsave\pdfrotate{\tmpb}\box0 \pdfrestore
                \vfil}%
   \kern\tmpdim
   \egroup}

\chap Evaluation

Mobile application developed in this thesis is supposed to be used while driving and drivers must interact with it to obtain the desired information. This interaction is critical, as it might cause serious problems while driving. The aim of this chapter is to show that the mobile application can be used without significant impact to driver's behaviour.

The primary goal of the evaluation part was to collect data from real human drivers in the tasks and environment as close as possible to real-world situations. To reach this goal we established cooperation with the Driving Simulation Research Group based at the Faculty of Transportation Sciences of Czech Technical University in Prague. We were able to use their car simulator and other equipment.


\sec Usability tests

Usability testing is a good way to understand how real users use an application. Unlike the other methods (interviews, focus groups, etc.) usability testing measures actual performance on given tasks. In case of infotainment mobile application it is crucial for users to drive safely. All usability tests were primarily designed to evaluate the cognitive load of driver (as the application was designed to minimize it).

\label[test_equipment]
\secc Used equipment

As mention at the beginning of this chapter, we used equipment provided by the Faculty of Transportation Sciences, namely the 3D car light simulator and Eye Tracker. Logged results were analyzed using MATLAB.


\midinsert \clabel[octavia_photo]{Picture of simulator}
\picw=\hsize \cinspic resources/images/simulator.jpg
\caption/f Picture of simulator
\endinsert

\seccc 3D light simulator Skoda Octavia II

Simulator was build by DSRG. It is based on cockpit of Skoda Octavia II with cave-like projection system. Inner cockpit parts are cut jut behind the drivers seat. The cockpit is fully equipped like the normal car (including roof, co-driver seat, etc.). Picture of the simulator is at figure~\ref[octavia_photo]. Transmission was 6-speed automatic gearbox.

\seccc Software tools

The developed mobile application requires the Bluetooth connection to obtain driving data from OBD dongle. As the simulator was not equipped with standard CAN-BUS communications (and therefore neither the OBD protocol was supported), using the common way of accessing driving data was not possible. To by-pass this problem, a support software tool in Java was developed. This program reads a subset of driving data (provided by the simulation software) from network and simulates an OBD dongle. The mobile application is then connected to the target computer and is able to read data the same way as if it was connected to the OBD dongle.

\label[eye-tracking-cameras]
\seccc Eye Tracking Cameras \& Software

Eye tracking solution was used for measuring the time that was spent looking at the mobile phone while driving. Car Simulator were equipped with the product of the company Smart Eye AB\urlnote{http://smarteye.se/}. It was composed of two eye tracking cameras Smart Eye Pro\urlnote{http://smarteye.se/products/smart-eye-pro/}. These camerad are designed to be used in Car Simulators, Flight Deck Simulators and other vehicle studies. The cameras are operating under Infra-Red, so they are insensitive to ambient light.

Another part of the eye tracking solution was Smart Eye Pro software. This program was used to configure the whole process. Every participant went through the calibration procedure. Screenshot from the program is in figure~\ref[eyetracker_sw].

\midinsert \clabel[eyetracker_sw]{Eye tracking software}
\picw=\hsize \cinspic resources/images/phone.png
\caption/f Eye tracking software
\endinsert

\secc Participants

The usability tests are based on the results from 5 participants from age 24 to 45 (mean age was 28, standard deviation 9.62). One participant was female, other four were males. Kilometers drove per year by the participants were in range from 4000 to 30000 (mean of 14800, standard deviation 10849). Operating system used on smartphone was three times Android OS, one time iOS and one time Windows Phone. Other information retained from participants are in section \ref[pre-test].

The number of participant was based on recommendation of Jakob Nielsen \cite[nielson5enough]. None of participant had previous experience with the tested applications. 

%\midinsert \clabel[participants_basic]{Participants of usability testing}
%\ctable{lrr}{
%\hfil Participant's \# & Sex & Age \crl \tskip4pt
%Participant 1 & Male & 24 \cr
%Participant 2 & Male & 26 \cr
%Participant 3 & Female & 45 \cr
%Participant 4 & Male & 23 \cr
%Participant 5 & Male & 22 \cr
%}
%\caption/t Basic information about participants in usability testing.
%\endinsert


\seccc Screener

Purpose of the screener questionnaire was to filter out the participants that did not meet the requirements. The requirements were simple - a participant must be a smartphone user and active driver. All questions with required answers are available in section~\ref[screener] of appendix~\ref[ap.questionnaires].

\label[pre-test]
\seccc Pre-test questionnaire results

Before execution of the usability test, participants were asked to answer some questions about their behavior while driving. The questionnaire is available in table \ref[pretest], results are in the table \ref[participants_pretest].

\midinsert \clabel[participants_pretest]{Results of pre-test questionnaire}
\ctable{lrrrrrrr}{
\hfil \rotsimple{90}\hbox{Participant's \#} & \rotsimple{90}\hbox{Sex} & \rotsimple{90}\hbox{Age} & \rotsimple{90}\hbox{Times per week driving} & \rotsimple{90}\hbox{Kms per year} &  \rotsimple{90}\hbox{Smartphone OS} & \rotsimple{90}\hbox{Use phone while driving?} & \rotsimple{90}\hbox{How often?}\crl \tskip4pt
Part. 1 & Male & 24 & 1 & 4000 & WP & Yes & Occasionaly\cr
Part. 2 & Male & 26 & 5 & 30000 & Android & Yes & Often \cr
Part. 3 & Female & 45 & 7 & 20000 & iOS & Yes & Often\cr
Part. 4 & Male & 23 & 2 & 5000 & Android & Yes & Occasionaly\cr
Part. 5 & Male & 22 & 6 & 15000 & Android & Yes & Often\cr
}
\caption/t Results of pre-test quetionnaire
\endinsert

\seccc Post-test questionnaire results

After the end of every single test, participants answered few questions about their impression about the process, their understanding and generally about their feeling about using both applications. Questionnaire is available in section~\ref[posttest] of appendix~\ref[ap.questionnaires], results are summarized in table~\ref[posttest-results].

\midinsert \clabel[posttest-results]{Results of post-test questionnaire}
\ctable{lrrrrr}{
  \bf \rotsimple{90}\hbox{Participant's \#} & \bf \rotsimple{90}\hbox{Impression of using the device while driving [1-5]} & \bf \rotsimple{90}\hbox{Goals were clear [yes/no]} & \bf \rotsimple{90}\hbox{Way of solution was acceptable [1-5]} &  \bf \rotsimple{90}\hbox{Amount of diplayed information was appropriate [1-5]} & \bf \rotsimple{90}\hbox{Would use the application in everyday driving [yes/no] }\crl \tskip4pt
Part. 1	&	1	& yes	& 1.5	& 1	& yes	\cr
Part. 2	&	3	& yes	& 3	& 1	& no	\cr
Part. 3	&	2	& yes	& 1	& 1	& yes	\cr
Part. 4	&	1	& yes	& 2	& 1	& yes	\cr
Part. 5	&	2	& yes	& 1.5	& 2	& yes	\cr
}\caption/t Results of post-test questionnaire
\endinsert


\secc Tests schedule

Each test had a fixed time limit. As was mentioned in the previous section, participants had not had any experiences with in-car dashboard mobile application and they had not been participants of usability testing before. Therefore an introduction part was included where they were informed about structure and purpose of the test. This introduction was followed by necessary calibration of eye-tracking cameras (for each participant the calibration was different). Then the usability tests could be performed. Exact plan of a test is shown in table~\ref[user_testing_schedule].

\midinsert \clabel[user_testing_schedule]{User testing schedule}
\ctable{ccrl}{
  \bf Start & \bf End & \bf Duration [min] & \bf Content \crl \tskip4pt
  00:00:00 & 00:05:00 & 5 & Introduction\cr
  00:05:00 & 00:10:00 & 5 & Pre-test questionnaire \cr
  00:10:00 & 00:25:00 & 15 & Instructions and EyeTracker setup \cr
  00:25:00 & 00:40:00 & 15 & Warm-up driving \cr
  00:40:00 & 00:55:00 & 15 & A/B testing \cr
  00:55:00 & 01:05:00 & 10 & CLT testing \cr
  01:05:00 & 01:10:00 & 5 & Post-test questionnaire \cr
  01:10:00 & 01:15:00 & 5 & Debriefing \cr
}\caption/t User testing schedule
\endinsert

\sec Lane Change Test

This test was used to evaluate influence of a secondary task while performing a primary task. For these purposes the Lance Change Test (LCT) has received considerable attention. It appears to be a practical and effective measure of the costs associated with operating in-vehicle devices while performing a driving task. The procedure of the Lane Change Test was standardized as ISO 3888.

For the execution of the LCT the car simulator introduced in section \ref[test_equipment] was used. The test track was a 4 km straight line road with a single lane change maneuver. Participants were required to keep a constant speed of 60 km per hour and they were asked to tell the current value of driving-relevant information displayed on the smartphone using the developed application. The interval between each request was 10 seconds. The maneuver was initiated by placing an unexpected object in the driving path. Size of the object was 2.20 x 2.20 x 2.20 m and it was placed 35 m in front of vehicle. There was a red arrow pointing to the left lane which suggested driver the direction to go around the object (change the driving lane).



%info from http://drivingassessment.uiowa.edu/DA2007/PDF/004_Harbluk.pdf

\secc Results

Evaluation of Lane Change Test is based on two metrics. The first one is the object avoidance (if a participant did not hit the object) and the second one is the reaction time. This value is determined from the the usage of steering wheel - when steering angle was bigger than certain value (calculated from previous drive). All data necessary for evaluating the tests were obtained from car simulator. Preview of typical behavior is plotted in figure~\ref[lct_route].

\midinsert \clabel[lct_route]{Typical process of object avoidance during LCT}
\picw=\hsize \cinspic resources/images/tests/lct1.pdf
\caption/f Typical process of object avoidance during LCT
\endinsert

\midinsert \clabel[lct_results]{Results of LCT}
\ctable{lrrr}{
\hfil Participant \# & Object avoided & Reaction time & Reaction distance\crl \tskip4pt
Participant 1 & Yes  &  437.1 ms & 8.91 m \cr
Participant 2 & Yes	 & 	491.0 ms & 9.39 m \cr
Participant 3 & Yes  & 	455.5 ms&  9.10 m \cr
Participant 4 & Yes  &  587.5 ms & 10.99 m\cr
Participant 5 & Yes  & 	511.8 ms & 9.87 m \cr
}
\caption/t {Results of LCT}
\endinsert

Table~\ref[lct_results] shows that in the object avoidance the tests were 100\% successful. However, the result with bigger group of participant could be different - for example in picture~\ref[lct_res] in Appendix~\ref[tests_results] is obvious that object avoidance was very tight. 

Measured and calculated results can be compared with results from \cite[d2014perception]. A similar test was performed with measured mean time 0.78 seconds. This reaction time is comparable with reaction times of participants.

\sec A/B test

A/B testing (also known as split testing or bucket testing) is a testing approach of comparing two version of tested subjects again each others to determine which one performs better. This approach is known mainly from webpage testing, where the criterion is conversion rate. Method of A/B testing was adopted also in testing of CarDashboard mobile application. Small changes were done: Instead of webpages were compared mobile applications and instead of conversion rate the criterion was glance time. Glance time was measured using eye tracking cameras mentioned in section~\ref[eye-tracking-cameras].

A/B testing needs two subject. In this case, the first subject was the developed mobile application CarDashboard and the second subject was a mobile application called Torque\urlnote{http://torque-bhp.com/} which is the most downloaded application for OBD connection with more than 1 million free downloads\urlnote{https://play.google.com/store/apps/details?id=org.prowl.torquefree&hl=en} and more than 500 thousands paid downloads\urlnote{https://play.google.com/store/apps/details?id=org.prowl.torque&hl=en}. This application is available for Android-based tablets and mobile phones, thus was a perfect candidate as the usability tests were performed also for the tablet version of CarDashboard~\cite[blaha].

For purposes of A/B testing, a complex world map was used. The whole route was 6.5 km long and led through countryside with two villages. Also the other traffic was present. The 2D map of the route is displayed in figure~\ref[ab_trace] and typical speed and usage of brakes is in figure~\ref[ab_speedbraking].

\midinsert \clabel[ab_trace]{Route of track used in A/B testing}
\picw=8cm \cinspic resources/images/tests/ab_route.pdf
\caption/f Route of A/B tests
\endinsert

\secc Results

The hypothesis of the A/B testing was that the developed mobile application CarDashboard would perform better that the competitive application Torque. This hypothesis was confirmed. All participants also proclaimed that the CarDashboard application is simpler to use and they had better feeling of use.  All results from A/B testing are available in table~\ref[ab_results]. The results are considered as expectable. For some participants the difference between Torque and CarDashboard is not significantly different, however, the rating score of Torque on Google Play Store must be taken in account. Torque reached the score 4.0 from 5.0 (from over 21 thousands reviewers) and therefore it is a very good rated application. Torque Pro has even better score -- 4.6 from almost 40 thousands reviewers. 

\midinsert \clabel[ab_results]{Results of A/B testing}
\ctable{l|rr|rr|rr}{
\hfil \rotsimple{90}\hbox{Participant's \#} & \rotsimple{90}\hbox{Application A Glance Ratio} & \rotsimple{90}\hbox{Application B Glance Ratio} & \rotsimple{90}\hbox{Application A Maximal Glance} & \rotsimple{90}\hbox{Application B Maximal Glance} & \rotsimple{90}\hbox{Application A Average Glance} & \rotsimple{90}\hbox{Application B Average Glance} \crl \tskip4pt
Participant 1 & 18.63 \% &  11.2 \% & 1283 ms & 1150 ms & 182.47 ms & 138.89 ms \cr
Participant 2 & 15.72 \% & 10.72 \% & 1602 ms & 1129 ms & 172.76 ms & 140.42 ms \cr
Participant 3 &  8.90 \% & 	7.78 \% &  450 ms &  533 ms &   70.2 ms & 66.67 ms \cr
Participant 4 & 13.94 \% &  5.4  \% & 1933 ms &  433 ms & 541.53 ms & 187 ms \cr
Participant 5 &  9.94 \% & 10.32 \% &  950 ms & 1617 ms &  73.41 ms & 120.7 ms \cr
}
\caption/t {Results of A/B testing}
\endinsert

\midinsert \clabel[ab_speedbraking]{Visualization of typical speed and braking during A/B test}
\picw=\hsize \cinspic resources/images/tests/brakingspeed.pdf
\caption/f Visualization of typical speed and braking during A/B test
\endinsert




